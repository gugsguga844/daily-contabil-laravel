<style>
    .fone-image,
    .metric {
        will-change: transform;
    }
    /* O Palco (COM O NOME CORRIGIDO) */
    .fone-stage {
        position: relative;
        
        /* * A MÁGICA ESTÁ AQUI: 
         * Esta é a técnica moderna "clamp()".
         *
         * width: clamp(MIN, IDEAL, MAX);
         *
         * - MIN: O menor tamanho que ele pode ter (ex: 500px em mobile/tablet)
         * - IDEAL: O tamanho que ele "tenta" ter (40vw = 40% da largura da tela)
         * - MAX: O maior tamanho que ele pode ter (ex: 750px em telas 4K)
         *
         * Altere esses valores como quiser!
         */
        width: clamp(500px, 40vw, 450px);
        
        /* * Garante que o palco mantenha a proporção 6:5 (600/500)
         * Isso substitui o "height: 500px;"
         */
        aspect-ratio: 6 / 5; 
    
        /* === Suas regras antigas === */
        /* width: 100%; */          /* <-- Substituído pelo clamp() */
        /* max-width: 600px; */   /* <-- Substituído pelo clamp() */
        /* height: 500px; */       /* <-- Substituído pelo aspect-ratio */
        margin: auto;
        overflow: visible;
        isolation: isolate; 
    
        /* Variáveis do glow (elas continuam funcionando) */
        --fone-glow-w: 500px;
        --fone-glow-h: 500px;
        --fone-glow-blur: 100px;
        --fone-glow-inner: rgba(237,255,0,0.20);
        --fone-glow-outer: rgba(128,154,50,0.20);
    }
    
    /* O Fone */
    .fone-image {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 70%; 
        height: auto;
        z-index: 1;
    }
    
    /* Métricas */
    .metric {
        position: absolute;
        width: auto;
        height: auto;
        pointer-events: none; 
        z-index: 1;
    }
    .metric img {
        display: block;
        max-width: 100%;
    }
    .metric-whatsapp { top: 15%; left: -25% !important; }
    .metric-sms { top: 25%; right: -25%; }
    .metric-email { top: 60%; left: -22%; }
    .metric-voice { bottom: 5%; right: -20%; }
    
    /* O Glow (COM O NOME CORRIGIDO) */
    .fone-stage::before {
        content: "";
        position: absolute;
        z-index: 0; 
        pointer-events: none;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: var(--fone-glow-w);
        height: var(--fone-glow-h);
        background: radial-gradient(circle at 50% 50%,
          var(--fone-glow-inner) 0%,
          var(--fone-glow-outer) 50%,
          rgba(128,154,50,0) 70%);
          
        filter: blur(var(--fone-glow-blur));
        mix-blend-mode: screen;
    }

    @media (min-width: 1367px) and (max-width: 1920px) {
        .fone-stage {
            width: clamp(450px, 40vw, 450px);
        }
    }
    </style>
    
    <div class="fone-stage">
    
        <img src="https://dizparos.com/wp-content/uploads/2025/10/elemento-bola-z-1.png" class="fone-image" alt="Fone de ouvido">
    
        <div class="metric metric-whatsapp">
            <img src="https://dizparos.com/wp-content/uploads/2025/10/Frame-1321317313-7.png" alt="Frame 1">
        </div>
    
        <div class="metric metric-sms">
            <img src="https://dizparos.com/wp-content/uploads/2025/10/Frame-1321317313-6.png" alt="Frame 2">
        </div>
    
        <div class="metric metric-email">
            <img src="https://dizparos.com/wp-content/uploads/2025/10/Frame-1321317313-8.png" alt="Frame 3">
        </div>
    
        <div class="metric metric-voice">
            <img src="https://dizparos.com/wp-content/uploads/2025/10/Frame-1321317313-5.png" alt="Frame 4">
        </div>
        
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            const isMobile = window.matchMedia("(max-width: 767px)").matches;
            
            // Se for mobile, NÃO execute nada do script de animação.
            if (isMobile) {
                console.log("Modo mobile detectado pelo JS. Animação do fone desativada.");
                return;
            }
            
            // --- 1. Selecione TODOS os elementos ---
            // (COM O NOME CORRIGIDO)
            const container = document.querySelector('.fone-stage');
            const fone = document.querySelector('.fone-image');
            const metricWA = document.querySelector('.metric-whatsapp');
            const metricEmail = document.querySelector('.metric-email');
            const metricSMS = document.querySelector('.metric-sms');
            const metricVoice = document.querySelector('.metric-voice');
        
            if (!container || !fone || !metricWA || !metricEmail || !metricSMS || !metricVoice) {
                console.warn("Faltam elementos (container, fone ou métricas) para o efeito.");
                return; 
            }
        
            // --- 2. Defina os valores do efeito ---
            const foneMaxRotation = 30;      
            const foneHoverScale = 1.2;     
            const waMoveIntensity = 100;     
            const emailMoveIntensity = 100;  
            const smsMoveIntensity = 100;    
            const voiceMoveIntensity = 100;  
            const waMoveIntensityY = 100;
            const emailMoveIntensityY = 100;
            const smsMoveIntensityY = -100;
            const voiceMoveIntensityY = -100;
        
            // --- 3. Variáveis de Estado e Amortecimento ---
            const smoothing = 0.08; 
            let targetXPercent = 0;
            let targetScale = 1;
            let targetIdleAmount = 1; 
            let currentXPercent = 0;
            let currentScale = 1;
            let currentIdleAmount = 1; 
        
            // --- 4. Variáveis de Animação ---
            let idleTime = 0;
            let lastAnimationTime = 0;
            const floatAmplitude = 30; 
            const idealFrameTime = 1000 / 60; 
    
            // --- 5. Cache das dimensões ---
            let containerRect = null;
            function updateContainerRect() {
                if (container) {
                    containerRect = container.getBoundingClientRect();
                }
            }
            updateContainerRect();
        
            function lerp(start, end, amt) {
                return (1 - amt) * start + amt * end;
            }
        
            // --- 6. O Loop de Animação ---
            function animationLoop(currentTime) {
                
                if (lastAnimationTime === 0) {
                    lastAnimationTime = currentTime;
                }
                const deltaTime = currentTime - lastAnimationTime;
                lastAnimationTime = currentTime;
        
                const timeIncrement = (deltaTime / idealFrameTime) * 0.01;
                idleTime += timeIncrement; 
        
                currentXPercent = lerp(currentXPercent, targetXPercent, smoothing);
                currentScale = lerp(currentScale, targetScale, smoothing);
                currentIdleAmount = lerp(currentIdleAmount, targetIdleAmount, 0.05); 
        
                const rotateDeg = currentXPercent * (foneMaxRotation * -1);
                fone.style.transform = `
                    translate(-50%, -50%) 
                    rotate(${rotateDeg}deg) 
                    scale(${currentScale})
                `;
        
                const parallaxWA_X = currentXPercent * waMoveIntensity;
                const parallaxWA_Y = currentXPercent * waMoveIntensityY;
                const parallaxEmail_X = currentXPercent * emailMoveIntensity;
                const parallaxEmail_Y = currentXPercent * emailMoveIntensityY;
                const parallaxSMS_X = currentXPercent * smsMoveIntensity;
                const parallaxSMS_Y = currentXPercent * smsMoveIntensityY;
                const parallaxVoice_X = currentXPercent * voiceMoveIntensity;
                const parallaxVoice_Y = currentXPercent * voiceMoveIntensityY;
        
                const floatWA_X = Math.sin(idleTime * 0.8) * floatAmplitude * currentIdleAmount;
                const floatWA_Y = Math.cos(idleTime * 0.8) * floatAmplitude * currentIdleAmount;
                const floatEmail_X = Math.sin(idleTime * 0.7 + 2) * (floatAmplitude * 0.8) * currentIdleAmount;
                const floatEmail_Y = Math.cos(idleTime * 0.7 + 2) * (floatAmplitude * 0.8) * currentIdleAmount;
                const floatSMS_X = Math.sin(idleTime * 0.9 + 4) * (floatAmplitude * 1.2) * currentIdleAmount;
                const floatSMS_Y = Math.cos(idleTime * 0.9 + 4) * (floatAmplitude * 1.2) * currentIdleAmount;
                const floatVoice_X = Math.sin(idleTime * 0.6 + 6) * floatAmplitude * currentIdleAmount;
                const floatVoice_Y = Math.cos(idleTime * 0.6 + 6) * floatAmplitude * currentIdleAmount;
        
                metricWA.style.transform = `translate3d(${parallaxWA_X + floatWA_X}px, ${parallaxWA_Y + floatWA_Y}px, 0)`;
                metricEmail.style.transform = `translate3d(${parallaxEmail_X + floatEmail_X}px, ${parallaxEmail_Y + floatEmail_Y}px, 0)`;
                metricSMS.style.transform = `translate3d(${parallaxSMS_X + floatSMS_X}px, ${parallaxSMS_Y + floatSMS_Y}px, 0)`;
                metricVoice.style.transform = `translate3d(${parallaxVoice_X + floatVoice_X}px, ${parallaxVoice_Y + floatVoice_Y}px, 0)`;
        
                window.requestAnimationFrame(animationLoop);
            }
        
            // --- 7. "Ouvintes" ---
            container.addEventListener('mouseenter', () => {
                targetScale = foneHoverScale; 
                targetIdleAmount = 0; 
            });
            
            container.addEventListener('mousemove', (event) => {
                if (!containerRect) return;
                const width = containerRect.width;
                const mouseX = event.clientX - containerRect.left;
                targetXPercent = (mouseX / width) - 0.5;
            });
        
            container.addEventListener('mouseleave', () => {
                targetXPercent = 0;
                targetScale = 1;
                targetIdleAmount = 1; 
            });
            
            window.addEventListener('resize', updateContainerRect);
            
            // --- 8. Inicia o loop ---
            window.requestAnimationFrame(animationLoop);
        });
        </script>